{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/Login.js","components/ProtectedRoute.js","images/successIcon.svg","images/errorIcon.svg","components/InfoTooltip.js","components/Register.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","link","linkText","onLogOut","url","useLocation","pathname","className","src","logo","alt","to","onClick","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isLiked","card","likes","some","i","_id","cardLikeButtonClassName","isUserCard","owner","cardDeleteButtonClassName","name","onCardClick","type","onCardDelete","onCardLike","length","Main","avatar","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","map","Footer","PopupWithForm","isOpen","onSubmit","title","children","buttonText","onClose","AddPlacePopup","useState","setName","setLink","e","preventDefault","onAddPlace","id","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","EditProfilePopup","description","setDescription","useEffect","onUpdateUser","DeleteCardPopup","cardToDelete","ImagePopup","Login","setEmail","password","setPassword","handleLogin","ProtectedRoute","loggedIn","InfoTooltip","isRegistered","successIcon","errorIcon","Register","handleRegister","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","statusText","token","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","BASE_URL","checkResponse","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setCardToDelete","setLoggedIn","setIsRegistered","isInfoTooltipOpen","setIsInfoTooltipOpen","localStorage","getItem","setToken","history","useHistory","handleToolTipModal","closeAllPopups","push","removeItem","data","auth","user","catch","err","console","log","getUserInfo","getInitialCards","Provider","path","component","cardData","removeLike","addLike","newCard","state","c","clickedCard","setItem","exact","addCard","editAvatar","editProfile","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.69704104.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction Header({email, link, linkText, onLogOut}) {\n  const url = useLocation().pathname\n  \n  if (url === \"/signin\") {\n    linkText = \"Sign up\";\n    link = \"/signup\"\n  } else if (url === \"/signup\") {\n    linkText = \"Log in\";\n    link = \"/signin\"\n  } else if (url === \"/\") {\n    linkText = 'Log out'\n    link = \"/signin\"\n  }\n\n  return (\n    <header className=\"header\">\n    <img className=\"header__logo\" src={logo} alt=\"Around The World\" />\n      <div className=\"header__menu\">\n        <p className=\"header__menu-item\">{email}</p>\n        <Link className=\"header__menu-item\" to={link} onClick={onLogOut} >{linkText}</Link>\n      </div>  \n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`elements__like ${\n    isLiked ? 'elements__like_active' : 'elements__like'\n  }`);\n\n  const isUserCard = props.card.owner === currentUser._id;\n  const cardDeleteButtonClassName = (`elements__delete-button ${\n    isUserCard ? 'elements__delete-button' : 'elements__delete-button_hidden'\n  }`);\n\n  \n  \n  function handleClick() {\n    props.onCardClick(props.card);\n  }  \n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n  return(\n    <li className=\"elements__item\">\n      <img className=\"elements__image\" alt={props.card.name} src={props.card.link} onClick={handleClick} />\n        <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"trash button\" onClick={handleDeleteClick}></button>\n        <div className=\"elements__heading\">\n          <h2 className=\"elements__title\">{props.card.name}</h2>\n          <div className=\"elements__like-container\">\n            <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"like button\" onClick={handleLikeClick}></button>\n            <p className=\"elements__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main (props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n\n    <section className=\"profile\">\n        \n      <div className=\"profile__avatar\">\n        <img className=\"profile__image\" src={currentUser.avatar} alt=\"Avatar\" />\n        <button className=\"profile__image-edit\" onClick={props.onEditAvatarClick}></button>\n      </div>\n\n      <div className=\"profile__content\">\n        <div className=\"profile__details\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" aria-label=\"edit button\" className=\"profile__edit\" onClick={props.onEditProfileClick}></button>\n        </div>\n        <p className=\"profile__occupation\">{currentUser.about}</p>\n      </div>\n      <button className=\"profile__add\" type=\"button\" aria-label=\"add button\" onClick={props.onAddPlaceClick}></button>\n    </section>\n\n    <section className=\"elements\">\n      <ul className=\"elements__container\">\n        {props.cards.map((card) => {\n          return (\n            <Card \n              key={card._id} \n              card={card}\n              likes={card.likes.length}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}  \n              onCardDelete={props.onCardDelete}\n            />\n          )\n        })} \n      </ul>  \n    </section>\n    </main>\n  )\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__author\">&copy; 2021 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return(\n    <div className={`modal modal_type_${props.name} ${props.isOpen ? \"modal_opened\" : \"\"}`}>\n      <div className=\"modal__container\">\n            <form className={`modal__form modal__form_type_${props.name}`} name={props.name} onSubmit={props.onSubmit}>\n              <h3 className=\"modal__title\">{props.title}</h3>\n              {props.children}\n              <button className=\"modal__form-submit\" type=\"submit\" aria-label=\"save button\">{props.buttonText}</button>\n            </form>\n            <button className=\"modal__close-button\" type=\"button\" aria-label=\"close button\" onClick={props.onClose}></button>  \n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n\n  const [name, setName] = React.useState();\n  const [link, setLink] = React.useState();\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name,\n      link\n    });\n\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm name=\"create\" title=\"New place\" buttonText=\"Create\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input id=\"placeTitle\" className=\"modal__form-control modal__form-control_input_title\" type=\"text\"\n        placeholder=\"Title\" name=\"titleInput\" required minLength=\"1\" maxLength=\"30\" value={name} onChange={handleNameChange}/>\n      <span id=\"placeTitle-error\" className=\"modal__error\"></span>\n      <input id=\"placeLink\" className=\"modal__form-control modal__form-control_input_image\" type=\"url\"\n        placeholder=\"Image Link\" name=\"imageLinkInput\" required value={link} onChange={handleLink} />\n      <span id=\"placeLink-error\" className=\"modal__error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef()\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n          avatar: avatarRef.current.value\n        });\n  }\n\n\n  return(\n    <PopupWithForm name=\"avatar\" title=\"Change Profile Picture\" buttonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input ref={avatarRef} id=\"avatar-url\" className=\"modal__form-control modal__form-control_avatar\" type=\"url\" placeholder=\"Image Link\" name=\"avatarInput\" required/>\n      <span id=\"avatar-url-error\" className=\"modal__error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const[name, setName] = React.useState('');\n  const[description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]); \n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description\n    });\n  } \n\n  return(\n    <PopupWithForm name=\"edit\" title=\"Edit Profile\" buttonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input value={name || ''} id=\"profileName\" className=\"modal__form-control modal__form-control_input_name\" type=\"text\"\n        placeholder=\"Name\" name=\"profileNameInput\" required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange}/>\n      <span id=\"profileName-error\" className=\"modal__error\"></span>\n      <input value={description || ''} id=\"profileOccupation\" className=\"modal__form-control modal__form-control_input_occupation\" type=\"text\"\n        placeholder=\"Occupation\" name=\"profileOccupationInput\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange} />\n      <span id=\"profileOccupation-error\" className=\"modal__error\"></span>    \n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onSubmit(props.cardToDelete);\n  }\n\n  return(\n    <PopupWithForm name=\"deleteConfirmation\" title=\"Are you sure?\" buttonText=\"Yes\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}></PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  return (\n    <div className={`modal modal_type_image ${props.card ? \"modal_opened\" : \"\"}`}>\n      <div className=\"modal__container modal__container_preview\">\n          <button className=\"modal__close-button  modal__close-button_preview\" type=\"button\"\n            aria-label=\"close button\" onClick={props.onClose}></button>\n          <figure>\n            <img className=\"modal__image\" src={props.card?.link} alt={props.card?.name} />\n            <figcaption className=\"modal__image-title\">{props.card?.name}</figcaption>\n          </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\n\nconst Login = (props) => { \n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState(''); \n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleLogin(email, password);\n  }  \n  \n  return (\n    <>\n      <Header link=\"/signup\" linkText=\"Sign up\"></Header>\n      <div className=\"modal__form_container\">\n        <form className=\"modal__form\" onSubmit={handleSubmit} >\n          <h3 className=\"modal__form_heading\">Log in</h3>\n          <input className=\"modal__form_input\" placeholder=\"Email\" type=\"email\" name=\"email\" minLength={2} maxLength={200} value={email} onChange={e => setEmail(e.target.value)} required />\n          <input className=\"modal__form_input\" placeholder=\"Password\" type=\"password\" name=\"password\" minLength={2} maxLength={200} value={password} onChange={e => setPassword(e.target.value)} required />\n          <button className=\"modal__form_submit\" type=\"submit\">Log In</button>\n          <Link className=\"modal__link\" to=\"/signup\">Not a member yet? Sign up here!</Link>\n        </form>\n      </div>\n    </>\n  );\n       \n}\n\nexport default Login;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute ({ children, loggedIn, ...props  }) {\n  return (\n    <Route {...props}>\n      {loggedIn ? children : <Redirect to={'./signin'} />}\n    </Route>\n  )  \n};\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/successIcon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/errorIcon.df8eddf6.svg\";","import React from 'react';\nimport successIcon from '../images/successIcon.svg';\nimport errorIcon from '../images/errorIcon.svg';\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`modal modal_type_tooltip ${props.isOpen && 'modal_opened'}`}>\n      <div className='modal__container modal__type_tooltip'>\n        <img className='modal__icon' src={props.isRegistered ? successIcon : errorIcon} alt='success or error icon' />\n        <p className='modal__message' >{props.isRegistered ? 'Success! You have now been registered.' : 'Oops, something went wrong! Please try again.'}</p>  \n        <button className='modal__close-button' type='button' aria-label='close button' onClick={props.onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\n\nconst Register = (props) => {  \n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState(''); \n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleRegister(email, password);\n  }  \n  \n  return (\n    <>\n      <Header link=\"/signin\" linkText=\"Log in\"></Header>\n      <div className=\"modal__form_container\">\n        <form className=\"modal__form\" onSubmit={handleSubmit} >\n          <h3 className=\"modal__form_heading\">Sign up</h3>\n          <input className=\"modal__form_input\" placeholder=\"Email\" type=\"email\" name=\"email\" minLength={2} maxLength={200} value={email} onChange={e => setEmail(e.target.value)} required />\n          <input className=\"modal__form_input\" placeholder=\"Password\" type=\"password\" name=\"password\" minLength={2} maxLength={200} value={password} onChange={e => setPassword(e.target.value)} required />\n          <button className=\"modal__form_submit\" type=\"submit\" aria-label=\"register\">Sign Up</button>\n          <Link className=\"modal__link\" to=\"/signin\">Already a member? Log in here!</Link>\n        </form>\n      </div>  \n    </>\n  );\n       \n}\n\nexport default Register;","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n  }\n\n  getInitialCards(token) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        'Content-Type': 'application/json', \n        'Authorization': `Bearer ${token}`,\n      },\n    })\n      .then(this._checkResponse)\n  }\n\n  getUserInfo(token) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n    })\n      .then(this._checkResponse)\n  }\n\n  addCard({ name, link }, token) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  deleteCard(cardId, token) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n    })\n      .then(this._checkResponse)\n  }\n\n  editProfile({ name, about }, token) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  editAvatar({ avatar }, token) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  addLike(cardId, token) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n    })\n      .then(this._checkResponse)\n  }\n  \n\n  removeLike(cardId, token) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n    })\n      .then(this._checkResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: (process.env.NODE_ENV === \"production\" ? \"https://api.deserie.students.nomoreparties.site\" : \"http://localhost:3000\")\n});\n\n\nexport default api;","export const BASE_URL = process.env.NODE_ENV === \"production\" ? \"https://api.deserie.students.nomoreparties.site\" : \"http://localhost:3000\";\n\nfunction checkResponse(res) {\n  return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => {\n      return checkResponse(res)\n    })\n    .then((data) => {\n      if (data.token){\n      localStorage.setItem('token', data.token);\n      return data;\n      }\n    })\n    .catch(err => console.log(err))\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    },\n  })\n  .then((res) => {\n    return checkResponse(res)\n  })\n  .then(data => data);\n};","import React from 'react'; \nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport DeleteCardPopup from './DeleteCardPopup.js';\nimport ImagePopup from './ImagePopup';\nimport Login from './Login'\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport Register from './Register';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport * as auth from '../utils/auth';\n\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [cardToDelete, setCardToDelete] = React.useState();\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isRegistered, setIsRegistered] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const [token, setToken] = React.useState(localStorage.getItem('token'));\n  const history = useHistory();\n    \n  //////////////////////////////////////////////////////////////////  \n\n  React.useEffect(() => {\n    if (token) {\n      auth.checkToken(token)\n      .then((res) => {\n        setLoggedIn(true);\n        setEmail(res.user.email);\n        history.push('/');   \n      })\n      .catch((err) => {\n        console.log(err);\n      })\n    }\n  }, [history, token]);\n\n  React.useEffect(() => {\n    if (token) {\n    api.getUserInfo(token)\n      .then((res) => {\n        setCurrentUser(res.user)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }}, [token])\n\n  React.useEffect(() => {\n    if (token) {\n    api.getInitialCards(token)\n      .then((res) => {\n        setCards(res.user);        // was just (res)\n      })  \n      .catch((err) => {\n        console.log(err);\n      });\n  }}, [token]);\n\n  ////////////////////////////////////////////////////////////////////\n\n  function handleUpdateUser({ name, about }) {\n    api.editProfile({ name, about }, token)\n      .then((res) => {\n        setCurrentUser(res.data)\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.editAvatar(avatar, token)\n      .then((res) => {\n        setCurrentUser(res.data)\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    api.addCard({ name, link }, token)\n      .then((newCard) => {\n        setCards([newCard.data, ...cards])\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    (!isLiked ? api.addLike(card._id, token) : api.removeLike(card._id, token))\n          .then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n  }\n\n  function handleDeleteCard(cardId) {\n    api.deleteCard(cardId, token)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== cardId));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }    \n\n  ////////////////////////////////////////////////////////////////////////////////////////\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(clickedCard) {\n    setIsDeleteCardOpen(true);\n    setCardToDelete(clickedCard);\n  }\n\n  function handleCardClick(cardData) {\n    setSelectedCard(cardData);\n  }\n\n  function handleToolTipModal() {\n    setIsInfoTooltipOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeleteCardOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard(null);\n  }  \n\n  /////////////////////////////////////////////////////////////////////////////\n\n  function handleRegister (email, password) {\n    if (!email || !password) {\n      return;\n    }\n    auth.register(email, password)\n    .then((res) => {\n      if (res) {\n        setIsRegistered(true);\n        handleToolTipModal();\n        history.push('/signin');\n      } else {\n        setIsRegistered(false);\n        handleToolTipModal();\n      }    \n    })\n    .then(handleToolTipModal)\n    .catch((err) => {\n      setIsRegistered(false);\n      handleToolTipModal();\n      console.log(err);\n    });\n    \n  }\n\n  function handleLogin(email, password) {\n    if(!email || !password) {\n      return;\n    }\n    auth.authorize(email, password)\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        setToken(data.token);\n        setLoggedIn(true);\n        setEmail(email); \n        history.push('/main')\n      }     \n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function onLogOut() {\n    history.push('/signin');\n    setLoggedIn(false);\n    setEmail('');\n    localStorage.removeItem('token');\n  }\n\n  /////////////////////////////////////////////////////////////////////////////    \n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='root'>\n\n    <Switch>    \n\n      <ProtectedRoute \n        path='/main' \n        loggedIn={loggedIn}\n      >\n\n        <Header \n          link='/signin'\n          linkText='Log out' \n          email={email}\n          loggedIn={loggedIn}\n          onLogOut={onLogOut}\n        />\n\n        <Main\n          onLogOut={onLogOut}\n          component={Main}\n          onEditAvatarClick={handleEditAvatarClick} \n          onEditProfileClick={handleEditProfileClick} \n          onAddPlaceClick={handleAddPlaceClick} \n          onCardClick={handleCardClick} \n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteCardClick}\n          email={email}\n          onClose={closeAllPopups}\n        />\n\n        <Footer />\n\n      </ProtectedRoute>\n\n      <Route path='/signin'>\n        <Login \n          handleLogin={handleLogin}\n        />\n      </Route>\n      <Route path='/signup'>\n        <Register \n          handleRegister={handleRegister} \n        />\n      </Route>\n      <Route exact path='/'>\n        {loggedIn ? <Redirect to='/main' /> : <Redirect to='/signin' />}\n      </Route> \n\n    </Switch>   \n\n        <InfoTooltip\n          isRegistered={isRegistered}\n          isOpen={isInfoTooltipOpen}  \n          onClose={closeAllPopups}\n        />  \n\n        <AddPlacePopup \n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <DeleteCardPopup\n          cardToDelete={cardToDelete}\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onSubmit={handleDeleteCard}\n        />\n\n        <ImagePopup \n          card={selectedCard} \n          onClose={closeAllPopups}\n        />\n\n      </div>  \n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}